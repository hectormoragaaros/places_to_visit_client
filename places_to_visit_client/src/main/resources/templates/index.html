<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Places to Visit</title>
<!-- adding leaflet -->
<link rel="stylesheet"
	href="https://unpkg.com/leaflet@1.9.2/dist/leaflet.css"
	integrity="sha256-sA+zWATbFveLLNqWO2gtiw3HL/lh1giY/Inf1BJ0z14="
	crossorigin="" />
<!-- adding bootstrap -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<!-- Make sure you put this AFTER Leaflet's CSS -->
<script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js"
	integrity="sha256-o9N1jGDZrf5tS+Ft4gbIK7mYMipq9lqpVJ91xHSyKhg="
	crossorigin=""></script>
<style>
html, body {
	height: 100%;
	margin: 0;
}

.leaflet-container {
	height: 400px;
	width: 600px;
	max-width: 100%;
	max-height: 100%;
}
</style>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-xs-6 col-sm-4 col-lg-2">
				<form autocomplete="off" action="#" th:action="@{/map/searchTAs}">
					<label class="control-label" for="countryList">Country</label> 
					<select class="form-control" id="countryList" th:field="*{country}">
						<option value="" selected="selected">Select Country</option>
						<option th:each="country: ${countries}" th:value="${country.id}"
							th:text="${country.nombre}"></option>
					</select>
				</form>
			</div>

			<div class="col-xs-6 col-sm-8 col-lg-10">
				<table class="table table-responsive table-bordered table-striped" >
					<caption>Listado de atracciones turísticas</caption>
					<thead>
						<tr>
							<th>País</th>
							<th>Atracción Turística</th>
							<th>Posición</th>
							<th>URL</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="touristicAttraction : ${touristicAttractions}">
							<td th:text="${country.nombre}"></td>
							<td th:text="${touristicAttraction.nombre}"></td>
							<td th:text="${touristicAttraction.ubicacion}"></td>
							<td>URL</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<div class="row">
			<div id="map" style="width: 600px; height: 400px;"></div>
			<script th:inline="javascript">
				const map = L.map('map').setView([ 0, 0 ], 2);
				/*<![CDATA[*/
			    /*[# th:each="ta : ${touristicAttractions}"]*/
					L.marker([ /*[[${ta.ubicacion.coordinates[0].x}]]*/, /*[[${ta.ubicacion.coordinates[0].y}]]*/ ]).addTo(map);
			    /*[/]*/

			/*]]>*/				
				const tiles = L
						.tileLayer(
								'https://tile.openstreetmap.org/{z}/{x}/{y}.png',
								{
									maxZoom : 2,
									attribution : '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
								}).addTo(map);
			</script>
		</div>
	</div>
</body>
</html>